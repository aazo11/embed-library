<app-header [active]="1"></app-header>
<div class="component">
  <div class="headerText">
    <div class="title">Demo Our Visualizations</div>
    <div class="subtitle">
    Interested in other visualizations? Let's chat.</div>
  </div>
  <div class="spinner" *ngIf="visualizations.length === 0">
    <mat-spinner></mat-spinner>
  </div>
  <div class="container">
    <div class="widgets-wrapper" *ngIf="visualizations.length > 0">
      <!-- <div class="spinner" *ngIf="loading">
        <mat-spinner></mat-spinner>
      </div> -->
      <div class="widget-list">
        <div class="widget" *ngFor="let widget of visualizations; let i = index" [attr.data-index]="i">
          <div class="loader" [id]='"loading-"+i'>
            <mat-spinner></mat-spinner>
          </div>
          <iframe [id]='"iframe-viz-"+i' style="display:block;" [cachedSrc]="widget.url" frameBorder="0"
            [height]="isMobile ? widget.heightMobile : widget.heightDesktop" (load)='iframeLoaded(i)'></iframe>
          <div class="embed">
            <input type="text" [value]="getEmbedCode(isMobile ? widget.heightMobile : widget.heightDesktop, widget.url)" class="embed-code" readonly #iframetext>
            <app-button class="embed-button" type="submit" (change)="copyEmbed(iframetext)">Copy Embed Code</app-button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>